<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Generating a Fantasy Map - NULLPOINTER</title><meta name="description" content="This post presents the various stages of design and coding that I&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://tomnullpointer.github.io/gh-pages/generating-a-fantasy-map.html"><link rel="alternate" type="application/atom+xml" href="https://tomnullpointer.github.io/gh-pages/feed.xml" title="NULLPOINTER - RSS"><link rel="alternate" type="application/json" href="https://tomnullpointer.github.io/gh-pages/feed.json" title="NULLPOINTER - JSON"><meta property="og:title" content="Generating a Fantasy Map"><meta property="og:image" content="https://tomnullpointer.github.io/gh-pages/media/posts/22/1470365535468761092-FGfHYSyWQAcjoWG.jpg"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="626"><meta property="og:site_name" content="NULLPOINTER"><meta property="og:description" content="This post presents the various stages of design and coding that I&hellip;"><meta property="og:url" content="https://tomnullpointer.github.io/gh-pages/generating-a-fantasy-map.html"><meta property="og:type" content="article"><link rel="preload" href="https://tomnullpointer.github.io/gh-pages/assets/dynamic/fonts/publicsans/publicsans.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://tomnullpointer.github.io/gh-pages/assets/css/style.css?v=e4d9dbb286ed39acbd89c04735d2c531"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://tomnullpointer.github.io/gh-pages/generating-a-fantasy-map.html"},"headline":"Generating a Fantasy Map","datePublished":"2025-10-05T20:09+01:00","dateModified":"2025-10-06T12:48+01:00","image":{"@type":"ImageObject","url":"https://tomnullpointer.github.io/gh-pages/media/posts/22/1470365535468761092-FGfHYSyWQAcjoWG.jpg","height":626,"width":1200},"description":"This post presents the various stages of design and coding that I&hellip;","author":{"@type":"Person","name":"me","url":"https://tomnullpointer.github.io/gh-pages/authors/me/"},"publisher":{"@type":"Organization","name":"me"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><div class="container"><div class="left-bar"><div class="left-bar__inner"><header class="header"><a class="logo" href="https://tomnullpointer.github.io/gh-pages/">NULLPOINTER</a><nav class="navbar"><button class="navbar__toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle__box"><span class="navbar__toggle__inner">Menu</span></span></button><ul class="navbar__menu"></ul></nav><a class="logo logo--atbottom" href="https://tomnullpointer.github.io/gh-pages/">NULLPOINTER</a></header></div></div><main class="main post"><article class="content"><figure class="content__featured-image content__featured-image--attop"><img src="https://tomnullpointer.github.io/gh-pages/media/posts/22/1470365535468761092-FGfHYSyWQAcjoWG.jpg" srcset="https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1470365535468761092-FGfHYSyWQAcjoWG-xs.jpg 320w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1470365535468761092-FGfHYSyWQAcjoWG-sm.jpg 480w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1470365535468761092-FGfHYSyWQAcjoWG-md.jpg 768w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1470365535468761092-FGfHYSyWQAcjoWG-xl.jpg 1024w" sizes="(min-width: 1460px) 938px, (min-width: 1200px) calc(75.83vw - 154px), (min-width: 1120px) 938px, (min-width: 900px) calc(55vw + 333px), 100vw" loading="eager" height="626" width="1200" alt="" aria-describedby="image-caption"></figure><div class="main__inner"><div class="content__meta"><div class="content__date"><time datetime="2025-10-05T20:09">Oct 5, 2025</time></div></div><header class="content__header"><h1 class="content__title">Generating a Fantasy Map</h1></header><div class="content__entry"><p>This post presents the various stages of design and coding that I used for my 2021 Procjam entry <a href="https://tomnullpointer.itch.io/procjam21" target="_blank" rel="noopener noreferrer">https://tomnullpointer.itch.io/procjam21</a></p><p>I have always loved the look of d&amp;d/tolkien style fantasy maps. I have always wanted to try generating this sort of pen and paper cartography. And as usual Procjam was a good excuse to spend a bit of time investigating the idea..</p><figure class="post__image"><img loading="lazy" src="https://tomnullpointer.github.io/gh-pages/media/posts/22/1467141564870934531-FFxSBOfXIAgZcds.jpg" alt="" width="976" height="976" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1467141564870934531-FFxSBOfXIAgZcds-xs.jpg 320w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1467141564870934531-FFxSBOfXIAgZcds-sm.jpg 480w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1467141564870934531-FFxSBOfXIAgZcds-md.jpg 768w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1467141564870934531-FFxSBOfXIAgZcds-xl.jpg 1024w"></figure><h1>Starting with a Vornoi graph</h1><p>As with many of my terrain generation projects I decided to use a voronoi dual graph as the basis of the map.</p><figure class="post__image"><img src="https://tomnullpointer.github.io/gh-pages/media/posts/22/1467141574266171395-FFxTrAOXMAA1zK-.png" alt="" width="328" height="330" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1467141574266171395-FFxTrAOXMAA1zK--xs.png 320w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1467141574266171395-FFxTrAOXMAA1zK--sm.png 480w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1467141574266171395-FFxTrAOXMAA1zK--md.png 768w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1467141574266171395-FFxTrAOXMAA1zK--xl.png 1024w"></figure><figure class="post__image"><img loading="lazy" src="https://tomnullpointer.github.io/gh-pages/media/posts/22/1467141584353435650-FFxVPxzXsAY5Kr6.png" alt="" width="332" height="329" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1467141584353435650-FFxVPxzXsAY5Kr6-xs.png 320w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1467141584353435650-FFxVPxzXsAY5Kr6-sm.png 480w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1467141584353435650-FFxVPxzXsAY5Kr6-md.png 768w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1467141584353435650-FFxVPxzXsAY5Kr6-xl.png 1024w"></figure><p>I generate the graph from a fairly even distribution of initial cells and then mark border cells (red), ocean cells (blue), and terrain cells (green) - based on distance from the edges of the world. Later on i refined this process to result in more organic coast lines.</p><p>The code then positions several mountain peaks in the graph (set safely away from the coasts) and uses a simple diffusion loop to spread out the height, resulting in a range of altitude across the terrain.</p><figure class="post__image"><img loading="lazy" src="https://tomnullpointer.github.io/gh-pages/media/posts/22/1467569268355125252-FF3aE31XEAAI0Bg.png" alt="" width="779" height="778" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1467569268355125252-FF3aE31XEAAI0Bg-xs.png 320w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1467569268355125252-FF3aE31XEAAI0Bg-sm.png 480w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1467569268355125252-FF3aE31XEAAI0Bg-md.png 768w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1467569268355125252-FF3aE31XEAAI0Bg-xl.png 1024w"></figure><p>The process then flags each cell with a biome tag biome based on a number of factors such as; distance from the ocean, altitude and underlying noise sampling.</p><h1>Pathfinding</h1><p>After setting up a the assignment of biomes across the map I pick some key cells to serve as destinations for a simulated road system. These are chosen by selecting points on a coarse superimposed grid that guarantees that each destination is always a certain distance from its nearest neighbour Any points that are too close or unreachable are discarded. A simple A* pathfinding system is used to connect the key cells. To ensure a natural flow to the connecting paths, the map is first seeded with traversal penalties. Higher altitude cells have higher penalties and certain biomes (marshes for example) are made harder to cross. In addition to feature specific obstacles, all terrain  cells are treated with a light modifier based on a simple 2d noise array in order to add some randomness to the paths returned. </p><figure class="post__image"><img loading="lazy" src="https://tomnullpointer.github.io/gh-pages/media/posts/22/1468282156518629381-FGBgBVDWQAwUAcS.png" alt="" width="763" height="766" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1468282156518629381-FGBgBVDWQAwUAcS-xs.png 320w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1468282156518629381-FGBgBVDWQAwUAcS-sm.png 480w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1468282156518629381-FGBgBVDWQAwUAcS-md.png 768w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1468282156518629381-FGBgBVDWQAwUAcS-xl.png 1024w"></figure><p>Once a road network has been found the system deletes a few random points and connections (while ensuring that all destinations still have at least one path connecting them) to make the road network less grid like and encourage the occasional appearance of remote outposts etc.</p><p>After the roads are built, a similar system is used to create rivers. In this case the initial points are set to be at the top of the mountain areas close to the peaks used to drive the initial altitude diffusion. The rivers then proceed along cell edges, always trying to path to neighbouring cells with lower altitudes. This creates natural looking streams that end up in the ocean or a landlocked lake.</p><p>I use cell edges rather than  centres so that the rivers wont occupy the same space as any roads that might exist in the same locations.</p><figure class="post__image"><img loading="lazy" src="https://tomnullpointer.github.io/gh-pages/media/posts/22/1468282172922601478-FGBg1MUWQA03V13.png" alt="" width="1070" height="1003" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1468282172922601478-FGBg1MUWQA03V13-xs.png 320w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1468282172922601478-FGBg1MUWQA03V13-sm.png 480w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1468282172922601478-FGBg1MUWQA03V13-md.png 768w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1468282172922601478-FGBg1MUWQA03V13-xl.png 1024w"></figure><p>I could have continued to refine the data creation for the cells to give the map more expressive range, but as the project was part of a jam I decided to stop with my data structure work and start the visual 'cladding' of the map.</p><p>Each cell has a biome type which drives it to pull a sprite from a set defined by that biome. For instance, a cell above a specific height is a mountain and can use any of the 5 possible mountain sprites I had prepared. Again the number of cell types is fairly limited with locations such as hills,  forest, marshes, villages, towns, towers etc.</p><p>Finally I added a few parameters for the players to adjust, so that they could explore the range of maps the tool can generate.</p><figure class="post__image"><img loading="lazy" src="https://tomnullpointer.github.io/gh-pages/media/posts/22/1470000731726004227-FGZ92moWQAQdpDH.png" alt="" width="1200" height="891" sizes="(min-width: 760px) 660px, calc(93.18vw - 30px)" srcset="https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1470000731726004227-FGZ92moWQAQdpDH-xs.png 320w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1470000731726004227-FGZ92moWQAQdpDH-sm.png 480w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1470000731726004227-FGZ92moWQAQdpDH-md.png 768w, https://tomnullpointer.github.io/gh-pages/media/posts/22/responsive/1470000731726004227-FGZ92moWQAQdpDH-xl.png 1024w"></figure></div><footer class="content__footer"><div class="content__last-updated">This article was updated on <time datetime="2025-10-06T12:48">Oct 6, 2025</time></div></footer></div></article><div class="content__section post__related"><div class="main__inner"><h3 class="content__section__title">Related post</h3><div class="post__related__wrap"><article class="c-card"><div class="c-card__meta"><div class="c-card__author"><a href="https://tomnullpointer.github.io/gh-pages/authors/me/">me</a></div><time datetime="2025-10-06T10:50">Oct 6, 2025 </time><a href="https://tomnullpointer.github.io/gh-pages/tags/archive/" class="c-card-tag">Archive</a></div><a href="https://tomnullpointer.github.io/gh-pages/generating-city-maps.html" class="c-card__image"><img src="https://tomnullpointer.github.io/gh-pages/media/posts/23/1480563951209439235-FIwE-uDXMAwGfs4-2.jpg" srcset="https://tomnullpointer.github.io/gh-pages/media/posts/23/responsive/1480563951209439235-FIwE-uDXMAwGfs4-2-xs.jpg 320w, https://tomnullpointer.github.io/gh-pages/media/posts/23/responsive/1480563951209439235-FIwE-uDXMAwGfs4-2-sm.jpg 480w" sizes="(min-width: 700px) 200px, (min-width: 480px) 160px, calc(100vw - 50px)" loading="lazy" height="624" width="1200" alt=""></a><header class="c-card__header"><h2 class="c-card__title"><a href="https://tomnullpointer.github.io/gh-pages/generating-city-maps.html">Generating City Maps</a></h2><p>This post explains how I coded a city map generator for a&hellip;</p></header></article><article class="c-card"><div class="c-card__meta"><div class="c-card__author"><a href="https://tomnullpointer.github.io/gh-pages/authors/me/">me</a></div><time datetime="2025-10-05T18:51">Oct 5, 2025 </time><a href="https://tomnullpointer.github.io/gh-pages/tags/archive/" class="c-card-tag">Archive</a></div><a href="https://tomnullpointer.github.io/gh-pages/procedurally-generating-books.html" class="c-card__image"><img src="https://tomnullpointer.github.io/gh-pages/media/posts/20/1732442787457446125-GArfeUqXgAAGnSi-2.png" srcset="https://tomnullpointer.github.io/gh-pages/media/posts/20/responsive/1732442787457446125-GArfeUqXgAAGnSi-2-xs.png 320w, https://tomnullpointer.github.io/gh-pages/media/posts/20/responsive/1732442787457446125-GArfeUqXgAAGnSi-2-sm.png 480w" sizes="(min-width: 700px) 200px, (min-width: 480px) 160px, calc(100vw - 50px)" loading="lazy" height="586" width="618" alt=""></a><header class="c-card__header"><h2 class="c-card__title"><a href="https://tomnullpointer.github.io/gh-pages/procedurally-generating-books.html">Procedurally Generating Books</a></h2><p>This is a record of my day to day work on a&hellip;</p></header></article><article class="c-card"><div class="c-card__meta"><div class="c-card__author"><a href="https://tomnullpointer.github.io/gh-pages/authors/me/">me</a></div><time datetime="2025-10-05T11:20">Oct 5, 2025 </time><a href="https://tomnullpointer.github.io/gh-pages/tags/procedural-generation/" class="c-card-tag">Procedural Generation</a></div><a href="https://tomnullpointer.github.io/gh-pages/generating-procedural-insects-with-ik.html" class="c-card__image"><img src="https://tomnullpointer.github.io/gh-pages/media/posts/16/1109928671727501312-D2dCOU0WoAYCyVa-2.png" srcset="https://tomnullpointer.github.io/gh-pages/media/posts/16/responsive/1109928671727501312-D2dCOU0WoAYCyVa-2-xs.png 320w, https://tomnullpointer.github.io/gh-pages/media/posts/16/responsive/1109928671727501312-D2dCOU0WoAYCyVa-2-sm.png 480w" sizes="(min-width: 700px) 200px, (min-width: 480px) 160px, calc(100vw - 50px)" loading="lazy" height="460" width="652" alt=""></a><header class="c-card__header"><h2 class="c-card__title"><a href="https://tomnullpointer.github.io/gh-pages/generating-procedural-insects-with-ik.html">Generating procedural Insects with IK</a></h2><p>This project was an experiment in generating insect models from procedural meshes&hellip;</p></header></article></div></div></div></main><div class="right-bar"><div class="right-bar__inner"><div class="sidebar"><section class="box featured"><h3 class="box__title">Featured Posts</h3><ul class="featured__container"><li class="featured__item"><a href="https://tomnullpointer.github.io/gh-pages/about-me-post.html" class="featured__image"><img src="https://tomnullpointer.github.io/gh-pages/media/posts/7/responsive/instapic-xs.png" loading="lazy" alt="" height="505" width="505"></a><div><a href="https://tomnullpointer.github.io/gh-pages/about-me-post.html" class="featured__title">About Me</a></div></li><li class="featured__item"><a href="https://tomnullpointer.github.io/gh-pages/about-my-academic-practice.html" class="featured__image"><img src="https://tomnullpointer.github.io/gh-pages/media/posts/9/responsive/mexico1-md-xs.jpg" loading="lazy" alt="" height="513" width="513"></a><div><a href="https://tomnullpointer.github.io/gh-pages/about-my-academic-practice.html" class="featured__title">Academic Practice</a></div></li><li class="featured__item"><a href="https://tomnullpointer.github.io/gh-pages/cv-bio.html" class="featured__image"><img src="https://tomnullpointer.github.io/gh-pages/media/posts/15/responsive/Bio-data-format-2-724x1024-3615278986-xs.jpg" loading="lazy" alt="" height="1024" width="1024"></a><div><a href="https://tomnullpointer.github.io/gh-pages/cv-bio.html" class="featured__title">C.V. Bio</a></div></li><li class="featured__item"><a href="https://tomnullpointer.github.io/gh-pages/nullpointer-games.html" class="featured__image"><img src="https://tomnullpointer.github.io/gh-pages/media/posts/8/responsive/ss_244d42e4eed84c0d5e1413914cb6bef2911d3300.1920x1080-md-xs.jpg" loading="lazy" alt="" height="432" width="432"></a><div><a href="https://tomnullpointer.github.io/gh-pages/nullpointer-games.html" class="featured__title">Commercial Games</a></div></li><li class="featured__item"><a href="https://tomnullpointer.github.io/gh-pages/game-jams-and-freebies.html" class="featured__image"><img src="https://tomnullpointer.github.io/gh-pages/media/posts/14/responsive/2025-10-04-22_31_47-Publii-md-xs.png" loading="lazy" alt="" height="445" width="445"></a><div><a href="https://tomnullpointer.github.io/gh-pages/game-jams-and-freebies.html" class="featured__title">Game Jams and Freebies</a></div></li></ul></section><section class="box tags"><h3 class="box__title">Recommended Topics</h3><ul class="tags__list"><li class="tags__item"><a href="https://tomnullpointer.github.io/gh-pages/tags/about/" class="btn btn--gray">About <sup>(4)</sup></a></li><li class="tags__item"><a href="https://tomnullpointer.github.io/gh-pages/tags/archive/" class="btn btn--gray">Archive <sup>(6)</sup></a></li><li class="tags__item"><a href="https://tomnullpointer.github.io/gh-pages/tags/explainer/" class="btn btn--gray">Explainer <sup>(6)</sup></a></li><li class="tags__item"><a href="https://tomnullpointer.github.io/gh-pages/tags/game-development/" class="btn btn--gray">Game Development <sup>(4)</sup></a></li><li class="tags__item"><a href="https://tomnullpointer.github.io/gh-pages/tags/installation-art/" class="btn btn--gray">Installation Art <sup>(1)</sup></a></li><li class="tags__item"><a href="https://tomnullpointer.github.io/gh-pages/tags/isosurfaces/" class="btn btn--gray">IsoSurfaces <sup>(3)</sup></a></li><li class="tags__item"><a href="https://tomnullpointer.github.io/gh-pages/tags/procedural-generation/" class="btn btn--gray">Procedural Generation <sup>(12)</sup></a></li></ul></section></div></div></div></div><script defer="defer" src="https://tomnullpointer.github.io/gh-pages/assets/js/scripts.min.js?v=b2d91bcadbf5db401b76eb5bb3092eb7"></script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>